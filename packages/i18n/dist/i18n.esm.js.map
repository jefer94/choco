{"version":3,"file":"i18n.esm.js","sources":["../src/i18n.js"],"sourcesContent":["const cache = {}\n\n/** @module @choco/i18n */\n\n/**\n * @constant\n * @default\n */\nconst en = 'es'\nlet locale = en\n\ntry {\n  locale = window ? window.navigator.language.substr(0, 2) : en\n}\ncatch(e) {\n  /** @todo server rendering support */\n}\n\n/**\n * Set manually the locales.\n *\n * @param {string} lang -  Short locale.\n * @example\n * import locale from '@choco/i18n'\n *\n * locale.setLang('en')\n */\nexport function setLang(lang) {\n  locale = lang\n}\n\n/**\n * Get all locales.\n * \n * @example\n * import locale from '@choco/i18n'\n *\n * locale.all() // returns { ... }\n * @returns {Object.<string, any>} All locales.\n */\nexport function all() {\n  return (cache[locale] ? cache[locale] : cache[en]) || {}\n}\n\n/**\n * Get one locales.\n * \n * @example\n * import locale from '@choco/i18n'\n *\n * locale.one('dog') // returns VALUE\n * @returns {any} One locales.\n */\nexport function one(key) {\n  // if (!cache[locale]) \n  console.log(cache)\n  return cache[locale] ? cache[locale][key] : cache[en][key]\n}\n\n/**\n * Set a locale key.\n *\n * @example\n * import locale from '@choco/i18n'\n *\n * locale.set('en', 'dog', 'potato')\n * @param {string} lang - Short locale.\n * @param {string} key - Name of translation.\n * @param {any} value - Value of translation\n */\nexport function set(lang, key, value) {\n  if (!cache[lang]) cache[lang] = {}\n  cache[lang][key] = value\n}\n\nexport default { one, all, set, setLang }"],"names":["cache","en","locale","window","navigator","language","substr","e","setLang","lang","all","one","key","console","log","set","value"],"mappings":"AAAA,MAAMA,KAAK,GAAG,EAAd;AAEA;;AAEA;;;;;AAIA,MAAMC,EAAE,GAAG,IAAX;AACA,IAAIC,MAAM,GAAGD,EAAb;;AAEA,IAAI;AACFC,EAAAA,MAAM,GAAGC,MAAM,GAAGA,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,MAA1B,CAAiC,CAAjC,EAAoC,CAApC,CAAH,GAA4CL,EAA3D;AACD,CAFD,CAGA,OAAMM,CAAN,EAAS;AACP;;AAGF;;;;;;;;;;;AASO,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAC5BP,EAAAA,MAAM,GAAGO,IAAT;AACD;AAED;;;;;;;;;;AASO,SAASC,GAAT,GAAe;AACpB,SAAO,CAACV,KAAK,CAACE,MAAD,CAAL,GAAgBF,KAAK,CAACE,MAAD,CAArB,GAAgCF,KAAK,CAACC,EAAD,CAAtC,KAA+C,EAAtD;AACD;AAED;;;;;;;;;;AASO,SAASU,GAAT,CAAaC,GAAb,EAAkB;AACvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACA,SAAOA,KAAK,CAACE,MAAD,CAAL,GAAgBF,KAAK,CAACE,MAAD,CAAL,CAAcU,GAAd,CAAhB,GAAqCZ,KAAK,CAACC,EAAD,CAAL,CAAUW,GAAV,CAA5C;AACD;AAED;;;;;;;;;;;;AAWO,SAASG,GAAT,CAAaN,IAAb,EAAmBG,GAAnB,EAAwBI,KAAxB,EAA+B;AACpC,MAAI,CAAChB,KAAK,CAACS,IAAD,CAAV,EAAkBT,KAAK,CAACS,IAAD,CAAL,GAAc,EAAd;AAClBT,EAAAA,KAAK,CAACS,IAAD,CAAL,CAAYG,GAAZ,IAAmBI,KAAnB;AACD;AAED,WAAe;AAAEL,EAAAA,GAAF;AAAOD,EAAAA,GAAP;AAAYK,EAAAA,GAAZ;AAAiBP,EAAAA;AAAjB,CAAf;;;;;"}